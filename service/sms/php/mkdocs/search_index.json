{
    "docs": [
        {
            "location": "/index.html", 
            "text": "短信服务的API集成在BmobSDK中，因此不熟悉的朋友在使用前先可以了解一下BmobSDK的集成\nPHP 快速入门\n\n\n在一些应用场景下，你可能希望用户验证手机号码后才能进行一些操作，例如充值等。这些操作跟用户系统没有关系，可以通过我们提供的的短信验证API来实现。\n\n\n每个 \nBmob\n 帐户有 10 个免费额度的短信数量，超过需要购买短信条数才能继续使用。\n\n\n为了保障短信的下发速度和送达率，\nBmob\n 为所有用户申请了一致的独享通道，默认使用 \n【比目科技】\n 作为签名，且不可更改。\n\n\n请求发送自定义的短信内容\n\n\n使用场景\n\n\n此方法允许开发者使用 Bmob 的短信功能灵活发送自定义的短信内容到用户的手机上，可运用于多种场景下，比如 \n发送祝福短信、推送消息、通知\n等\n\n\n使用前准备\n\n\n有两种方式可以使用自定义模板\n1.开发者可在Bmob后台提交身份证信息（\nBmob后台-\n账户管理-\n身份验证\n），并经\nBmob官方审核\n通过，可以自定义模板。\n2.不提交身份信息，直接提交短信模板，并经\nBmob官方审核\n通过，可以使用该模板。\n\n\n短信模板需要符以下要求，否则模板审核不予通过。\n\n\n注意：请不要发送任何敏感内容，请不要定制广告、营销以诱导用户行为的信息。具体如下：\n1.不得包含敏感关键，\n关键字列表文档下载\n，不得包含【】和 [] \n2.带联系方式（电话、qq微信、邮箱地址）的短信。如：“目前我司推出xx产品最新优惠，联系陈生了解详情，电话123-1234-1234”;\n3.诱导用户行为，特别是带超链接。如“我司推出新作xxx游戏，下载链接http://xxx.com”等；\n当前有两种使用自定义模板\n\n\n发现上述情况，针对通过身份审核的开发者，第一次给予警告，第二次将直接关闭接口使用，针对通过模板审核请求使用的开发者，模板审核不给予通过。\n\n\n调用示例\n\n\n输入手机号码、短信内容，就可以给用户的手机号码发送自定义的短信内容了，以下的content只要在不违反相关规定的前提下，你可以随意输入：\n\n\n$bmobSms = new BmobSms();\n$res = $bmobSms-\nsendSms(\n131xxxxxxxx\n, \n您的验证码是：222222, 有效期是10分钟。\n); //发送短信\n\n\n\n\n你还可以选择定时发送，比如未来的某一时刻给某个手机发送一条短信，sendTime的格式必须是YYYY-mm-dd HH:ii:ss， 如: 2015-05-26 12:13:14，请求如下：\n\n\n$res = $bmobSms-\nsendSms(\n131xxxxxxxx\n, \n您的验证码是：222222, 有效期是10分钟。\n, \n2016-05-26 12:13:14\n ); //发送短信\n\n\n\n\n\n成功返回，短信验证码ID，可用于后面使用查询短信状态接口来查询该条短信是否发送成功：\n\n\narray(\n    \nsmsId\n=\n 1232222\n)\n\n\n\n\n请求短信验证码\n\n\n如果没有在管理后台创建好模板，可使用默认的模板，\nBmob\n 默认的模板是: \n您的验证码是%smscode%，有效期为%ttl%分钟。您正在使用%appname%的验证码\n\n\n使用默认的模板请求短信验证码：\n\n\n$res = $bmobSms-\nsendSmsVerifyCode(\n131xxxxxxxx\n); \n\n\n\n\n成功返回，短信验证码ID，可用于后面使用查询短信状态接口来查询该条短信是否发送成功：\n\n\narray(\n    \nsmsId\n=\n 1232222\n)\n\n\n\n\n如果你已经在 \nBmob\n 后台设置了自己的模板，并已经是审核通过了，则可以使用自己的模板给用户的手机号码发送短信验证码了：\n\n\n$res = $bmobSms-\nsendSmsVerifyCode(\n131xxxxxxxx\n, \n注册模板\n);  //发送短信验证码\n\n\n\n\n成功返回，短信验证码ID，可用于后面使用查询短信状态接口来查询该短信验证码是否发送成功和是否验证过：\n\n\n{\n    \nsmsId\n: 1232222\n}\n\n\n\n\n验证短信验证码\n\n\n通过以下接口，你可以验证用户输入的验证码是否是有效的：\n\n\n$res = $bmobSms-\nverifySmsCode(\n131xxxxxxxx\n,\n028584\n); \n\n\n\n\n成功返回以下数据，表明验证码验证通过：\n\n\narray(\n    \nmsg\n=\n \nok\n\n)\n\n\n\n\n查询短信状态\n\n\n通过以下接口，你可以查询某条短信是否发送成功，如果是使用了Bmob的模板的话还能查询到是否被验证过，其实:smsId是请求短信验证码API返回的smsId值：\n\n\n$res = $bmobSms-\nquerySms(\n6466181\n);  //查询短信状态\n\n\n\n\n\n成功返回以下JSON：\n\n\narray(\n  \nsms_state\n=\n \nSENDING\n, \n  \nverify_state\n=\n false\n)\n\n\n\n\n其中sms_state是发送状态，有值: SENDING-发送中，FAIL-发送失败 SUCCESS-发送成功\n其中verify_state是验证码是否验证状态， 有值: true-已验证 false-未验证\n\n\n注意事项\n\n\n关于短信条数的计算规则如下:\n\n\n\n\n实际计算的短信字数 = 模板的内容或自定义短信的内容字数 + 6。加上6是因为默认的签名【比目科技】占了6个字。\n\n\n实际计算的短信字数在70个字以下算1条。\n\n\n实际计算的短信字数超过70字的以67字为一条来计算的。也就是135个字数是计算为3条的。\n\n\n计算得到的短信条数在本条短信发送成功后将会从你的账户剩余的短信条数中扣除。\n\n\n\n\n短信发送限制规则是1/分钟，5/小时，10/天。即对于一个应用来说，一天给同一手机号发送短信不能超过10条，一小时给同一手机号发送短信不能超过5条，一分钟给同一手机号发送短信不能超过1条\n\n\n购买事项\n\n\n购买方法\n\n\n短信条数只能输入整数，且不能少于1000条\n\n\n\n\n进入账号控制台，财务/财务统计点击购买短信即可。\n\n\n\n\n发票事宜\n\n\n购买金额满100可提供发票，1000元以内的到付，1000以上（含1000）包邮。\n\n\n登录后台提交工单，提供购买服务的订单号和开票信息。\n\n\n个人\n\n\n发票抬头、邮寄地址、联系人及电话\n\n\n企业\n\n\n公司名称、统一社会信用代码、开户行及账号、邮寄地址、联系人及电话", 
            "title": "开发文档"
        }, 
        {
            "location": "/index.html#_1", 
            "text": "使用场景  此方法允许开发者使用 Bmob 的短信功能灵活发送自定义的短信内容到用户的手机上，可运用于多种场景下，比如  发送祝福短信、推送消息、通知 等  使用前准备  有两种方式可以使用自定义模板\n1.开发者可在Bmob后台提交身份证信息（ Bmob后台- 账户管理- 身份验证 ），并经 Bmob官方审核 通过，可以自定义模板。\n2.不提交身份信息，直接提交短信模板，并经 Bmob官方审核 通过，可以使用该模板。  短信模板需要符以下要求，否则模板审核不予通过。  注意：请不要发送任何敏感内容，请不要定制广告、营销以诱导用户行为的信息。具体如下：\n1.不得包含敏感关键， 关键字列表文档下载 ，不得包含【】和 [] \n2.带联系方式（电话、qq微信、邮箱地址）的短信。如：“目前我司推出xx产品最新优惠，联系陈生了解详情，电话123-1234-1234”;\n3.诱导用户行为，特别是带超链接。如“我司推出新作xxx游戏，下载链接http://xxx.com”等；\n当前有两种使用自定义模板  发现上述情况，针对通过身份审核的开发者，第一次给予警告，第二次将直接关闭接口使用，针对通过模板审核请求使用的开发者，模板审核不给予通过。  调用示例  输入手机号码、短信内容，就可以给用户的手机号码发送自定义的短信内容了，以下的content只要在不违反相关规定的前提下，你可以随意输入：  $bmobSms = new BmobSms();\n$res = $bmobSms- sendSms( 131xxxxxxxx ,  您的验证码是：222222, 有效期是10分钟。 ); //发送短信  你还可以选择定时发送，比如未来的某一时刻给某个手机发送一条短信，sendTime的格式必须是YYYY-mm-dd HH:ii:ss， 如: 2015-05-26 12:13:14，请求如下：  $res = $bmobSms- sendSms( 131xxxxxxxx ,  您的验证码是：222222, 有效期是10分钟。 ,  2016-05-26 12:13:14  ); //发送短信  成功返回，短信验证码ID，可用于后面使用查询短信状态接口来查询该条短信是否发送成功：  array(\n     smsId =  1232222\n)", 
            "title": "请求发送自定义的短信内容"
        }, 
        {
            "location": "/index.html#_2", 
            "text": "如果没有在管理后台创建好模板，可使用默认的模板， Bmob  默认的模板是:  您的验证码是%smscode%，有效期为%ttl%分钟。您正在使用%appname%的验证码  使用默认的模板请求短信验证码：  $res = $bmobSms- sendSmsVerifyCode( 131xxxxxxxx );   成功返回，短信验证码ID，可用于后面使用查询短信状态接口来查询该条短信是否发送成功：  array(\n     smsId =  1232222\n)  如果你已经在  Bmob  后台设置了自己的模板，并已经是审核通过了，则可以使用自己的模板给用户的手机号码发送短信验证码了：  $res = $bmobSms- sendSmsVerifyCode( 131xxxxxxxx ,  注册模板 );  //发送短信验证码  成功返回，短信验证码ID，可用于后面使用查询短信状态接口来查询该短信验证码是否发送成功和是否验证过：  {\n     smsId : 1232222\n}", 
            "title": "请求短信验证码"
        }, 
        {
            "location": "/index.html#_3", 
            "text": "通过以下接口，你可以验证用户输入的验证码是否是有效的：  $res = $bmobSms- verifySmsCode( 131xxxxxxxx , 028584 );   成功返回以下数据，表明验证码验证通过：  array(\n     msg =   ok \n)", 
            "title": "验证短信验证码"
        }, 
        {
            "location": "/index.html#_4", 
            "text": "通过以下接口，你可以查询某条短信是否发送成功，如果是使用了Bmob的模板的话还能查询到是否被验证过，其实:smsId是请求短信验证码API返回的smsId值：  $res = $bmobSms- querySms( 6466181 );  //查询短信状态  成功返回以下JSON：  array(\n   sms_state =   SENDING , \n   verify_state =  false\n)  其中sms_state是发送状态，有值: SENDING-发送中，FAIL-发送失败 SUCCESS-发送成功\n其中verify_state是验证码是否验证状态， 有值: true-已验证 false-未验证  注意事项  关于短信条数的计算规则如下:   实际计算的短信字数 = 模板的内容或自定义短信的内容字数 + 6。加上6是因为默认的签名【比目科技】占了6个字。  实际计算的短信字数在70个字以下算1条。  实际计算的短信字数超过70字的以67字为一条来计算的。也就是135个字数是计算为3条的。  计算得到的短信条数在本条短信发送成功后将会从你的账户剩余的短信条数中扣除。   短信发送限制规则是1/分钟，5/小时，10/天。即对于一个应用来说，一天给同一手机号发送短信不能超过10条，一小时给同一手机号发送短信不能超过5条，一分钟给同一手机号发送短信不能超过1条", 
            "title": "查询短信状态"
        }, 
        {
            "location": "/index.html#_5", 
            "text": "", 
            "title": "购买事项"
        }, 
        {
            "location": "/index.html#_6", 
            "text": "短信条数只能输入整数，且不能少于1000条   进入账号控制台，财务/财务统计点击购买短信即可。", 
            "title": "购买方法"
        }, 
        {
            "location": "/index.html#_7", 
            "text": "购买金额满100可提供发票，1000元以内的到付，1000以上（含1000）包邮。  登录后台提交工单，提供购买服务的订单号和开票信息。  个人  发票抬头、邮寄地址、联系人及电话  企业  公司名称、统一社会信用代码、开户行及账号、邮寄地址、联系人及电话", 
            "title": "发票事宜"
        }
    ]
}